(function(t){function e(e){for(var a,r,i=e[0],c=e[1],l=e[2],d=0,m=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={app:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],r=n("2877"),i={},c=Object(r["a"])(i,o,s,!1,null,null,null),l=c.exports,u=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("board",{attrs:{data:t.boardData}})],1)},m=[],p=n("1da1"),v=(n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"board-div",staticStyle:{"text-align":"center"}},[n("table",{staticClass:"table table-hover mt-5 mb-3 d-md-table d-none"},[n("thead",[n("th",{attrs:{name:"index"},on:{click:t.tableSort}},[t._v("번 호")]),n("th",{attrs:{name:"title"},on:{click:t.tableSort}},[t._v("제 목")]),n("th",{attrs:{name:"nickname"},on:{click:t.tableSort}},[t._v("작성자")]),n("th",{attrs:{name:"date"},on:{click:t.tableSort}},[t._v("작성일")])]),n("tbody",[t._l(t.pagenatedData,(function(e,a){return t.indexNum?n("tr",{on:{click:function(e){return t.loadContent(e,t.data[a].seq)}}},[n("td",[t._v(t._s(t.pagenatedData.length-a+t.pageNum*t.listSize))]),n("td",[t._v(t._s(e.title))]),n("td",[t._v(t._s(e.nickname))]),n("td",[t._v(t._s(e.date))])]):t._e()})),t._l(t.pagenatedData,(function(e,a){return t.indexNum?t._e():n("tr",{on:{click:function(e){return t.loadContent(e,t.data[a].seq)}}},[n("td",[t._v(t._s(a+1+t.pageNum*t.listSize))]),n("td",[t._v(t._s(e.title))]),n("td",[t._v(t._s(e.nickname))]),n("td",[t._v(t._s(e.date))])])}))],2)]),n("table",{staticClass:"table table-hover mt-5 mb-3 d-md-none d-table"},[n("tr",[n("th",{attrs:{name:"index"},on:{click:t.tableSort}},[t._v("번 호")]),n("th",{attrs:{name:"title"},on:{click:t.tableSort}},[t._v("제 목")])]),n("tbody",[t._l(t.pagenatedData,(function(e,a){return t.indexNum?n("tr",[n("th",[t._v(t._s(t.pagenatedData.length-a+t.pageNum*t.listSize))]),n("th",[t._v(t._s(e.title))])]):t._e()})),t._l(t.pagenatedData,(function(e,a){return t.indexNum?t._e():n("tr",[n("th",[t._v(t._s(a+1+t.pageNum*t.listSize))]),n("th",[t._v(t._s(e.title))])])}))],2)])]),n("div",{staticClass:"row"},[n("div",{staticClass:"page-div mb-3 col-3"},[n("button",{staticClass:"btn btn-secondary mr-1",attrs:{disabled:0===t.pageNum},on:{click:t.prevPage}},[t._v("이전")]),n("span",{staticClass:"page-count"},[t._v(t._s(t.pageNum+1)+" / "+t._s(t.pageCount)+" 페이지")]),n("button",{staticClass:"btn btn-secondary ml-1",attrs:{disabled:t.pageNum>=t.pageCount-1},on:{click:t.nextPage}},[t._v("다음")])]),n("div",{staticClass:"col-3"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.listSize,expression:"listSize"}],staticClass:"custom-select",attrs:{name:"pageSize"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.listSize=e.target.multiple?n:n[0]},function(e){t.pageNum=0}]}},[n("option",{attrs:{value:""}},[t._v("표시할 개수 선택")]),n("option",{attrs:{value:"3"}},[t._v("3")]),n("option",{attrs:{value:"5",selected:"selected"}},[t._v("5")]),n("option",{attrs:{value:"10"}},[t._v("10")])])])]),n("div",{staticClass:"btn-div"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.onClickSubmit}},[t._v("등록")])])])])}),f=[],h=n("53ca"),g=(n("4e82"),n("fb6a"),{name:"Board",props:["data"],data:function(){return{pageNum:0,boardList:[],listSize:5,mode:!0,indexNum:!1}},mounted:function(){console.log(this.data)},methods:{loadContent:function(t,e){window.location.href="/content/".concat(e)},onClickSubmit:function(){window.location.href="/newContent"},nextPage:function(){this.pageNum+=1},prevPage:function(){this.pageNum-=1},tableSort:function(t){var e=t.target.getAttribute("name");if("index"==e)return this.data=this.data.reverse(),this.indexNum=!this.indexNum,!0;this.mode?this.data=this.data.sort((function(t,n){return console.log(Object(h["a"])(t[e]),Object(h["a"])(n[e])),t[e]>n[e]?1:-1})):this.data=this.data.sort((function(t,n){return console.log(Object(h["a"])(t[e]),Object(h["a"])(n[e])),t[e]<n[e]?1:-1})),this.mode=!this.mode}},computed:{pageCount:function(){var t=this.data.length,e=this.listSize,n=Math.floor((t-1)/e)+1;return n},pagenatedData:function(){var t=this.pageNum*this.listSize,e=t+this.listSize;return this.data.slice(t,e)}}}),b=g,C=Object(r["a"])(b,v,f,!1,null,null,null),_=C.exports,w=n("bc3a"),x=n.n(w),y={name:"Home",components:{Board:_},data:function(){return{boardData:[]}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/board/updateContent");case 2:n=e.sent,t.boardData=n.data.contents;case 4:case"end":return e.stop()}}),e)})))()}}},k=y,S=Object(r["a"])(k,d,m,!1,null,null,null),P=S.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[n("div",{staticClass:"container mt-5"},[n("div",{staticClass:"card bg-light mb-3",staticStyle:{"min-height":"600px"}},[n("div",{staticClass:"card-header pl-5"},[t._v("제 목 : "),n("span",{attrs:{id:"title"}},[t._v(t._s(t.data.title))])]),n("div",{staticClass:"card-header pl-5"},[t._v("작성자 : "),n("span",{attrs:{id:"nickname"}},[t._v(t._s(t.data.nickname))])]),n("div",{staticClass:"card-body"},[n("p",{staticClass:"cart-text m-5"},[t._v(" "+t._s(t.data.content)+" ")]),n("div",{staticClass:"card-text"})])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-8"},[n("button",{staticClass:"btn btn-secondary mr-1",attrs:{type:"button"},on:{click:t.backwardPage}},[t._v("목록보기")]),n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.onClickContentDelete}},[t._v("삭 제")])]),n("div",{staticClass:"col-md-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.contentPass,expression:"contentPass"}],staticClass:"form-control",attrs:{id:"pass",type:"password",placeholder:"비밀번호"},domProps:{value:t.contentPass},on:{input:function(e){e.target.composing||(t.contentPass=e.target.value)}}})])])]),n("div",{staticClass:"container card mt-5 p-3",staticStyle:{"max-width":"1100px"}},[n("form",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.commentAuthor,expression:"commentAuthor"}],staticClass:"form-control mt-3",staticStyle:{"max-width":"300px"},attrs:{name:"author",type:"text",placeholder:"작성자를 입력하세요."},domProps:{value:t.commentAuthor},on:{input:function(e){e.target.composing||(t.commentAuthor=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.commentPass,expression:"commentPass"}],staticClass:"form-control mt-3",staticStyle:{"max-width":"300px"},attrs:{name:"pass",type:"password",placeholder:"비밀번호를 입력하세요."},domProps:{value:t.commentPass},on:{input:function(e){e.target.composing||(t.commentPass=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:"form-control mt-3",staticStyle:{"min-height":"100px"},attrs:{name:"content",type:"text",placeholder:"댓글 내용을 입력하세요."},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("button",{staticClass:"btn btn-primary mt-3",attrs:{type:"button"},on:{click:t.onClickCommentAdd}},[t._v("등록")])])]),n("div",{staticClass:"container card mt-5 mb-5",staticStyle:{"max-width":"1100px"}},t._l(t.comments,(function(e){return n("div",{key:e.id,staticClass:"row no-gutters border"},[n("div",{staticClass:"col-md-2"},[n("div",{staticClass:"d-flex h-100 justify-content-center align-items-center"},[n("div",{staticClass:"w-100"},[n("img",{staticClass:"w-100 mb-2",attrs:{src:"/user.png",alt:"anounymous"}}),n("div",{staticClass:"text-center"},[t._v("작성자 : "+t._s(e.author))])])])]),n("div",{staticClass:"col-md-10"},[n("div",{staticClass:"card-body"},[n("form",[n("span",{staticClass:"reply-id",staticStyle:{display:"none"}},[t._v("123")]),n("h5",{staticClass:"card-title"}),n("p",{staticClass:"card-text"},[t._v("내용 : "+t._s(e.content))]),n("p",{staticClass:"card-text"},[n("small",{staticClass:"text-muted"},[t._v("작성일 : "+t._s(e.date))])]),n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(n){return t.onClickCommentDelete(e)}}},[t._v("삭제")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.input_pass,expression:"item.input_pass",modifiers:{trim:!0}}],staticClass:"pass form-control mt-3",staticStyle:{"max-width":"200px"},attrs:{type:"password",placeholder:"비밀번호를 입력하세요."},domProps:{value:e.input_pass},on:{input:function(n){n.target.composing||t.$set(e,"input_pass",n.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])])])})),0)])},O=[],j={name:"Detail",data:function(){return{data:"",loading:!1,contentPass:"",contentSeq:"",comments:[],commentAuthor:"",commentContent:"",commentPass:"",commentDeletePass:""}},created:function(){this.loadContent()},methods:{loadContent:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.seq=t.$route.params.id,e.next=3,x()("/api/board/loadContent/".concat(t.seq));case 3:return n=e.sent,t.data=n.data.item,e.next=7,x()("/api/comment/getComments/".concat(t.seq));case 7:a=e.sent,console.log(a.data),t.comments=a.data,console.log(t.comments),t.comments=data.item.comments.reduce((function(t,e){return e.input_pass="",t.push(e),t}),[]),console.log(t.comments),t.loading=!0;case 14:case"end":return e.stop()}}),e)})))()},onClickCommentAdd:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x()({method:"POST",url:"/api/comment/addComment/".concat(t.seq),data:{content:t.commentContent,pass:t.commentPass,author:t.commentAuthor,seq:t.seq}});case 2:n=e.sent,n.data.success?window.location.reload():alert(n.data.msg);case 4:case"end":return e.stop()}}),e)})))()},onClickContentDelete:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x()({method:"POST",url:"/api/board/deleteContent/".concat(t.seq),data:{pass:t.contentPass}});case 2:n=e.sent,n.data.success?(alert("삭제 완료"),window.location.href="/"):alert(n.data.msg);case 4:case"end":return e.stop()}}),e)})))()},onClickCommentDelete:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log(t),a=t._id,console.log(t),t.PASS==t.input_pass){n.next=6;break}return alert("비밀번호가 다릅니다."),n.abrupt("return",!1);case 6:return n.next=8,x()({method:"POST",url:"/api/comment/deleteComment/".concat(e.seq),data:{_id:a,pass:t.input_pass}});case 8:o=n.sent,o.data.success?(alert("삭제 완료"),window.location.reload()):alert(o.data.msg);case 10:case"end":return n.stop()}}),n)})))()},backwardPage:function(){window.location.href="/"}}},D=j,A=Object(r["a"])(D,N,O,!1,null,null,null),z=A.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container mt-5"},[n("div",{staticClass:"form-group"},[n("form",[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{name:"title",type:"text",placeholder:"제목을 입력하세요."},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),n("p"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],staticClass:"form-control",attrs:{name:"password",type:"password",placeholder:"암호를 입력하세요."},domProps:{value:t.pass},on:{input:function(e){e.target.composing||(t.pass=e.target.value)}}}),n("p"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],staticClass:"form-control",attrs:{name:"nickname",type:"text",placeholder:"닉네임을 입력하세요."},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}}),n("p"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",staticStyle:{"min-height":"500px"},attrs:{name:"content",type:"text",placeholder:"내용을 입력하세요"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),n("div",{staticClass:"mt-5"},[n("button",{staticClass:"btn btn-primary mr-3",attrs:{type:"button"},on:{click:t.onClickContentAdd}},[t._v("등 록")]),n("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.onClickCancel}},[t._v("취 소")])])])])])])},q=[],$={name:"Write",data:function(){return{title:"",pass:"",nickname:"",content:""}},methods:{onClickContentAdd:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x()({url:"/api/board/newContent",method:"POST",data:{title:t.title,password:t.pass,nickname:t.nickname,content:t.content}});case 2:n=e.sent,n.data.success?(alert("글 등록 완료"),window.location.href="/"):alert(n.data.err);case 4:case"end":return e.stop()}}),e)})))()},onClickCancel:function(){window.location.href="/"}}},T=$,E=Object(r["a"])(T,R,q,!1,null,null,null),M=E.exports;a["a"].use(u["a"]);var L=[{path:"/",name:"Home",component:P},{path:"/newContent",name:"Write",component:M,props:!0},{path:"/content/:id",name:"Detail",component:z,props:!0}],B=new u["a"]({mode:"history",base:"/",routes:L}),H=B,J=n("2f62");a["a"].use(J["a"]);var W=new J["a"].Store({state:{},mutations:{},actions:{},modules:{}});a["a"].config.productionTip=!1,new a["a"]({router:H,store:W,render:function(t){return t(l)}}).$mount("#app")}});
//# sourceMappingURL=app.4f6740db.js.map